seed: 11
run_name: pack_3p6s_spme_with_soh_prior
backend: toy

env:
  dt: 30.0 # RL每30s决策一次
  max_steps: 240 #RL每个episode最多240步
  v_max: 4.2 #单体电池最高电压
  t_max: 320.0 #单体电池最高温度
  pack_cells_p: 3 #电池包串联3个单体电池
  pack_cells_s: 6 #电池包并联6个单体电池
  terminate_on_violation: true #是否在违反约束时终止episode
  observation: 
    include_std: true #包含电池单体电压和温度的标准差->考虑电池单体间的差异
    
reward:
  w_soc: 10.0
  w_time: 0.01
  w_v: 2.0
  w_t: 1.0
  # enable_pack_extensions: false

rl:
  gamma: 0.99
  actor_lr: 0.001
  critic_lr: 0.0001
  tau: 0.005
  batch_size: 64
  buffer_size: 50000
  exploration_sigma: 0.3
  action_low: 0.0
  action_high: 120.0
  train_steps_per_epoch: 200

surrogate:
  hidden_sizes: [128, 128]
  ensemble_size: 3
  learning_rate: 0.001

trainer:
  cycle0:
    real_episodes: 6
    surrogate_epochs: 25
    policy_epochs: 8
  adaptive:
    cycles: 3
    real_episodes_per_cycle: 2
    surrogate_epochs: 10
    policy_epochs: 5

soh_prior:
  enabled: true
  lambda_prior: 2.0
  theta_dim: 3
  dummy_soh: 0.93

logging:
  runs_dir: runs
  save_interval: 1
